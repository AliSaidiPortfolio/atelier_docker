pipeline {

    agent {label 'agent'}



    stages {
        stage ('Prometheus') {
            steps {
                sh"docker run -d --name prometheus -p 9090:9090 -v /home/prometheus/prometheus-data:/etc/prometheus prom/prometheus"

            }
        }


        stage("Grafana") {
            steps {
                sh " docker run -d --name grafana -p 3000:3000 -v /home/grafana/grafana-data:/etc/grafana grafana/grafana"
            }
        }





   }

    post {
        always {
            cleanWs()
        }
    }

}